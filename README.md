# praktikum_new_diplom

Docker проект **YaMDb**

Групповой итоговый проект _Яндекс.Практикум_ по курсу **"Continuous Integration проекта YaMDB"**

Описание
=====================

Описание проекта
-----------------------------------
Проект **YaMDb** собирает отзывы пользователей на произведения. 
Произведения делятся на категории: «Книги», «Фильмы», «Музыка». 
Список категорий (Category) может быть расширен (например, можно добавить категорию 
«Изобразительное искусство» или «Ювелирка» через интерфейс Django администратора).

**API для сервиса YaMDb.** позволяет работать со следующими сущностями:

**Пользователи** (Получить список всех пользователей, создание пользователя, получить пользователя по username, изменить данные пользователя по username, удалить пользователя по username, получить данные своей учетной записи, изменить данные своей учетной записи)

**Произведения**, к которым пишут отзывы (Получить список всех объектов, создать произведение для отзывов, информация об объекте, обновить информацию об объекте, удалить произведение)

**Категории** (типы) произведений (Получить список всех категорий, создать категорию, удалить категорию)

**Жанры** (Получить список всех жанров, создать жанр, удалить жанр)

**Отзывы** (Получить список всех отзывов, создать новый отзыв, получить отзыв по id, частично обновить отзыв по id, удалить отзыв по id)

**Коментарии к отзывам** (Получить список всех комментариев к отзыву по id, создать новый комментарий для отзыва, получить комментарий для отзыва по id, частично обновить комментарий к отзыву по id, удалить комментарий к отзыву по id)

**JWT-токен** (Отправление confirmation_code на переданный email, получение JWT-токена в обмен на email и confirmation_code)

Окружение для работы с базой данных
-----------------------------------
### Инструкция по заполению .env

```
DB_ENGINE=django.db.backends.postgresql # указываем, что работаем с postgresql
DB_NAME=postgres # имя базы данных
POSTGRES_USER=postgres # логин для подключения к базе данных
POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
DB_HOST=db # название сервиса (контейнера)
DB_PORT=5432 # порт для подключения к БД
```

Docker
-----------------------------------
### Инструкция по установке Docker

[Ссылка](https://docs.docker.com/engine/install/ubuntu/)


Команды
-----------------------------------

### Команда клонирования проекта с DockerHub

`sudo docker pull upamid/yamdb_final`

### Команда для запуска приложения

`docker-compose up -d --build `

### Команда запуска docker-compose

`docker-compose up`

### Команда миграции базы данных

`docker-compose exec web python manage.py migrate --noinput`

### Команда для создания суперпользователя

`docker-compose exec web python manage.py createsuperuser`

### Команда для заполнения базы начальными данными

`docker-compose exec web python manage.py loaddata fixtures.json`

### Команда для остановки приложения

`sudo docker-compose stop`

# workflow
![workflow](https://github.com/upamid/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)

# участник

[Дмитрий Ступницкий.](https://github.com/upamid) 

# Рабочий проект

[Проект](http://upamid.ddns.net)